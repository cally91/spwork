package com.biz.bbs.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.biz.bbs.mapper.BBsDao;
import com.biz.bbs.model.BBsVO;

import lombok.extern.slf4j.Slf4j;

@Slf4j
@Service
public class BBsService {
	
	@Autowired
	BBsDao bDao;

	
	public List<BBsVO> bbsList() {
		List<BBsVO> bbsList = bDao.selectAll();
		return bbsList;
	}

	/*
	 * 글쓰기를 수행할때 file을 같이 ypload를 수행하면
	 * 해당하는 글의 seq를 조회하여 
	 * file table에 저장할때 같이 저장을 수행 해줘야한다
	 * 1. 게시글을 저장하고
	 * 1. 게시글의 bbs_seq를 조회하여
	 * 2. 파일 정보를 insert할때 해당하는 bbs_seq를 같이 저장해주야한다.
	 * 그래야 게시글을 조회할떄 해당하는 파일들을 같이 조회할수 있다.
	 * 
	 */
	public int insert(BBsVO bbsVO) {
		int ret =bDao.insert(bbsVO);
		long bbs_seq =bbsVO.getBbs_seq();
		//fineInsert(Bbs_seq)
		
		log.debug("게시판 SEQ :" + bbs_seq);
		return ret;
	}

	public BBsVO getContent(long bbs_seq) {
		BBsVO bbsVO=bDao.findByseq(bbs_seq);
		return bbsVO;
	}

}
